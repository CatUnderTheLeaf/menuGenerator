#:kivy 2.0.0
<MenuSettings>:
    id: menuSettings
    padding: dp(20)
    spacing: dp(10)
    cols: 1
    adaptive_height: True
    
    MDLabel:
        text: "Time period"
        
    Widget:
        size_hint_y: None
        height: dp(5)
    
    MDStackLayout:
        adaptive_height: True
        spacing: dp(5)
        id: timePeriod

        MyToggleButton:
            text: "day"
            icon: "calendar-today"
            group: "timePeriod"
            on_release: root.timePeriod = self.text
        
        MyToggleButton:
            text: "week"
            icon: "calendar-week"
            group: "timePeriod"
            on_release: root.timePeriod = self.text
        
        MyToggleButton:
            text: "month"
            icon: "calendar-month"
            group: "timePeriod"
            on_release: root.timePeriod = self.text
    
    MDSeparator:
    
    MDGridLayout:
        cols: 2
        adaptive_height: True                            

        MDLabel:
            text: "Repeat dishes"

        MDSwitch:
            id: repeatDishes
            active: root.repeat
            on_release: root.repeat = self.active                                   
    
    MDSeparator:
    
    Widget:
        size_hint_y: None
        height: dp(5)

    MDLabel:
        text: "Meals"

    Widget:
        size_hint_y: None
        height: dp(5)

    MDGridLayout:
        cols: 1
        adaptive_height: True
        spacing: dp(5)
        id: meals                                

        MyToggleButton:
            text: "Breakfast"
            icon: "bowl-mix"
            value: "0"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: "Brunch"
            icon: "food-variant"
            value: "1"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: "Lunch"
            icon: "pasta"
            value: "2"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: "Supper"
            icon: "pot-steam"
            value: "3"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: "Dinner"
            icon: "noodles"
            value: "4"
            on_release: root.updateMeals(self)                             
    
    MDSeparator:

    Widget:
        size_hint_y: None
        height: dp(5)

    MDLabel:
        text: "Rules"
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_dark
        font_style: 'H6'

    Widget:
        size_hint_y: None
        height: dp(5)

    # RulesWidget:
        

<RulesWidget>:
    cols: 1
    adaptive_height: True

<RulesContent>:
    cols: 1
    adaptive_height: True
    spacing: dp(20)
    padding: 0, dp(20), 0, 0
    width: Window.width

<RulesDayButtons>:    
    cols: 1
    orientation: 'tb-lr'
    adaptive_height: True
    spacing: dp(5)
    padding: 0, dp(20), 0, 0
    width: Window.width

    MDStackLayout:
        adaptive_height: True
        id: rulesToggleButtons
        
    MDStackLayout:
        adaptive_height: True
        id: rulesDays

        TextRoundButton:            
            value: "Monday"
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Tuesday"
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Wednesday"
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Thursday"
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Friday"
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Saturday"
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Sunday"
            on_release: root.toggleDay(self)

<RulesTagsMeals>:
    orientation: 'vertical'
    adaptive_height: True
    padding: dp(15), dp(56), dp(15), dp(15)
    spacing: dp(15)
    width: Window.width    

<RulesTagsMealsBox>:    
    orientation: 'vertical'
    adaptive_height: True
    spacing: dp(10)
    padding: 0, 0, 0, 0
    width: Window.width

    MDLabel:
        text: root.text

    MDStackLayout:
        adaptive_height: True
        id: mealTags
        height: 0
    
    MDBoxLayout:
        adaptive_height: True
        padding: dp(11), 0, 0, 0            

        ClickableTextFieldRound:
            id: click_text_field
            size_hint_x: None
            width: "200dp"
            hint_text: "Add new tag"

    MDBoxLayout:
        orientation: 'vertical'
        adaptive_height: True
        height: 0
        width: Window.width

        RecycleView:
            id: rv
            key_viewclass: 'viewclass'
            key_size: 'height'            

            RecycleBoxLayout:
                default_size: dp(200), dp(48)
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
    
    MDSeparator:
    