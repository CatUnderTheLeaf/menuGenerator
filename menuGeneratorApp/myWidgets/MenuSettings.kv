#:kivy 2.0.0
<MenuSettings>:
    id: menuSettings
    padding: dp(20)
    spacing: dp(10)
    cols: 1
    adaptive_height: True
    
    MDLabel:
        text: tr._("Time period")
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_dark
        font_style: 'H6'
        
    Widget:
        size_hint_y: None
        height: dp(5)
    
    MDStackLayout:
        adaptive_height: True
        spacing: dp(5)
        id: timePeriod

        MyToggleButton:
            text: tr._("day")
            value: "day"
            icon: "calendar-today"
            group: "timePeriod"
            on_release: root.timePeriod = self.value
        
        MyToggleButton:
            text: tr._("week")
            value: "week"
            icon: "calendar-week"
            group: "timePeriod"
            on_release: root.timePeriod = self.value
        
        MyToggleButton:
            text: tr._("month")
            value: "month"
            icon: "calendar-month"
            group: "timePeriod"
            on_release: root.timePeriod = self.value
    
    MDSeparator:
    
    MDGridLayout:
        cols: 2
        adaptive_height: True                            

        MDLabel:
            text: tr._("Repeat dishes")
            theme_text_color: "Custom"
            text_color: app.theme_cls.primary_dark
            font_style: 'H6'

        MDSwitch:
            id: repeatDishes
            active: root.repeat
            on_release: root.repeat = self.active                                   
    
    MDSeparator:
    
    Widget:
        size_hint_y: None
        height: dp(5)

    MDLabel:
        text: tr._("Meals")
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_dark
        font_style: 'H6'

    Widget:
        size_hint_y: None
        height: dp(5)

    MDGridLayout:
        cols: 1
        adaptive_height: True
        spacing: dp(5)
        id: meals                                

        MyToggleButton:
            text: tr._("Breakfast")
            name: "Breakfast"
            icon: "bowl-mix"
            value: "0"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: tr._("Brunch")
            name: "Brunch"
            icon: "food-variant"
            value: "1"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: tr._("Lunch")
            name: "Lunch"
            icon: "pasta"
            value: "2"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: tr._("Supper")
            name: "Supper"
            icon: "pot-steam"
            value: "3"
            on_release: root.updateMeals(self)
        
        MyToggleButton:
            text: tr._("Dinner")
            name: "Dinner"
            icon: "noodles"
            value: "4"
            on_release: root.updateMeals(self)                             
    
    MDSeparator:

    Widget:
        size_hint_y: None
        height: dp(5)

    MDLabel:
        text: tr._("Rules")
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_dark
        font_style: 'H6'

    Widget:
        size_hint_y: None
        height: dp(5)

<RulesWidget>:
    cols: 1
    adaptive_height: True

<RulesContent>:
    cols: 1
    adaptive_height: True
    spacing: dp(20)
    padding: 0, dp(20), 0, 0
    width: Window.width

<RulesDayButtons>:
    cols: 1
    orientation: 'tb-lr'
    adaptive_height: True
    spacing: dp(5)
    padding: 0, dp(20), 0, 0
    width: Window.width

    MDStackLayout:
        adaptive_height: True
        id: rulesToggleButtons
        spacing: dp(5)
        
    MDStackLayout:
        adaptive_height: True
        id: rulesDays

        TextRoundButton:
            value: "Monday"
            text: tr._("Mo")
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Tuesday"
            text: tr._("Tu")
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Wednesday"
            text: tr._("We")
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Thursday"
            text: tr._("Th")
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Friday"
            text: tr._("Fr")
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Saturday"
            text: tr._("Sa")
            on_release: root.toggleDay(self)
        TextRoundButton:
            value: "Sunday"
            text: tr._("Su")
            on_release: root.toggleDay(self)

<RulesTagsMeals>:
    orientation: 'vertical'
    adaptive_height: True
    padding: dp(15), dp(56), dp(15), dp(15)
    spacing: dp(15)
    width: Window.width    

<RulesTagsMealsBox>:
    orientation: 'vertical'
    adaptive_height: True
    spacing: dp(10)
    padding: 0, 0, 0, 0
    width: Window.width

    MDLabel:
        text: root.text

    MDStackLayout:
        adaptive_height: True
        id: mealTags
        height: 0
    
    MDBoxLayout:
        adaptive_height: True
        padding: dp(11), 0, 0, 0            

        ClickableTextFieldRound:
            id: click_text_field
            size_hint_x: None
            width: "200dp"
            hint_text: tr._("Add new tag")

    MDBoxLayout:
        orientation: 'vertical'
        adaptive_height: True
        height: 0
        width: Window.width

        RecycleView:
            id: rv
            key_viewclass: 'viewclass'
            key_size: 'height'            

            RecycleBoxLayout:
                default_size: dp(200), dp(48)
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
    
    MDSeparator:
    